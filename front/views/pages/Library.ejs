<!DOCTYPE html>
<html lang="pt">

    <%- include('../components/Head', {HIDE_DEFAULT_METATAGS: false}) %>

    <%

    %>

    <body class="bg-[#1d1d1d] text-white">
        <%- include('../components/Header', {PAGE_TITLE: 'BIBLIOTECA'}) %>

        <section class="bg-[#292929]">
            <div class="mx-20">
                <div class="grid grid-cols-5 gap-4 p-4">
                    <div class="bg-[#1d1d1d] rounded-lg p-4 shadow">
                        <h4 class="py-2 text-accent opacity-75">
                            Disciplinas
                        </h4>
                        <ul>
                            <li>
                                História
                            </li>
                            <li>
                                Português
                            </li>
                            <li>
                                História
                            </li>
                        </ul>
                    </div>
                    <div class="bg-[#1d1d1d] rounded-lg p-4 shadow col-span-3">
                        <!-- SEARCH BOX -->
                        <form autocomplete="off">   
                            <label for="article-search" class="mb-2 text-sm font-medium sr-only text-white">Buscar</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                    <svg aria-hidden="true" class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                                </div>
                                <input type="search" name="q" id="article-search" value="<%= searchQuery %>" class="block w-full p-4 pl-10 text-sm border rounded-lg bg-[#292929]" placeholder="Busque artigos por título, disciplinas, etc...">
                                <button type="submit" class="text-white absolute right-2.5 bottom-2.5 focus:outline-none font-medium rounded-lg text-sm px-4 py-2 bg-accent hover:opacity-75 duration-300">Buscar</button>
                            </div>
                        </form>
                        <div class="mt-4">
                            <% if(searchQuery && searchQuery.length > 0) { %>
                                <button onclick="location.href='?q='" class="text-white focus:outline-none font-medium rounded-lg text-sm px-4 py-1.5 bg-accent hover:opacity-75 duration-300">Limpar busca</button>
                                <span class="opacity-50 px-4 hidden md:inline-block"> | </span>
                            <% } %>
                            
                            <div class="hidden md:inline-block">
                                <kbd class="px-4 py-1.5 text-sm font-semibold rounded-lg bg-[#292929] text-white/50">
                                    ano:12 - Busca por artigos do 12º ano
                                </kbd>
                                <kbd class="px-4 py-1.5 text-sm font-semibold rounded-lg bg-[#292929] text-white/50 ml-2">
                                    disciplina:História - Busca por artigos de história
                                </kbd>
                            </div>
                        </div>

                        <!-- LIST -->
                        <div class="mt-4 rounded-lg">
                            <% if(!search.length > 0 && searchQuery?.length > 0) { %>
                                <span class="opacity-75">Nenhum resultado por esta busca</span>
                                <hr class="my-4 mx-auto h-1 bg-[#292929] rounded border-0 md:my-2">
                            <% } %>
                            <%  var displayArticles = search.length > 0 ? search : articles;
                                displayArticles.forEach((article, index) => { %>
                                <%- include('../components/library/ArticlePreview', { article: article  }) %>
                            <% }) %>
                        </div>
                    </div>
                    <div class="bg-[#1d1d1d] rounded-lg p-4 shadow">
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex repellat adipisci dolorum esse recusandae labore unde omnis quaerat et dolor! Qui voluptatem nemo, aspernatur quod temporibus dolorem neque, cupiditate ad enim porro, nihil cumque.
                    </div>
                </div>
            </div>
        </section>
    </body>
    <script>

    </script>
</html>